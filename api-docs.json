{"openapi":"3.0.1","info":{"title":"BookSwap API","version":"v1"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"BearerAuth":[]}],"paths":{"/api/catalog/{bookId}/image":{"put":{"tags":["catalog-controller"],"summary":"Установить или заменить изображение книги (обложку)","operationId":"uploadImage","parameters":[{"name":"bookId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"Файл изображения","format":"binary"}}}}}},"responses":{"404":{"description":"Книга не найдена"},"200":{"description":"Изображение загружено"},"403":{"description":"Нет доступа"}}}},"/api/auth/avatar":{"put":{"tags":["auth-controller"],"summary":"Загрузить или заменить аватар","operationId":"uploadAvatar","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK"}}},"delete":{"tags":["auth-controller"],"summary":"Удалить аватар","operationId":"deleteAvatar","responses":{"200":{"description":"OK"}}}},"/api/reviews/create":{"post":{"tags":["review-controller"],"summary":"Оставить отзыв на пользователя","operationId":"createReview","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["data"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/CreateReviewDto"},"images":{"type":"array","items":{"type":"string","format":"binary"}}}}}}},"responses":{"200":{"description":"OK"}}}},"/api/reviews/complaint":{"post":{"tags":["review-controller"],"summary":"Оставить жалобу на пользователя","operationId":"createComplaint","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["data"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/CreateComplaintDto"},"images":{"type":"array","items":{"type":"string","format":"binary"}}}}}}},"responses":{"200":{"description":"OK"}}}},"/api/messages/listing/{listingId}/send":{"post":{"tags":["messaging-controller"],"summary":"Отправить сообщение по объявлению (текст и до 3 фото)","operationId":"sendMessage","parameters":[{"name":"listingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["content"],"type":"object","properties":{"content":{"type":"string"},"images":{"type":"array","items":{"type":"string","format":"binary"}}}}}}},"responses":{"200":{"description":"OK"}}}},"/api/messages/listing/{listingId}/propose-exchange":{"post":{"tags":["messaging-controller"],"summary":"Отправить сообщение с предложением обмена","operationId":"sendExchangeProposal","parameters":[{"name":"listingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"offeredListingId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/listings":{"post":{"tags":["listing-controller"],"summary":"Создать новое объявление","operationId":"createListing","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["data"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/CreateListingDto"},"images":{"type":"array","items":{"type":"string","format":"binary"}}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ListingDto"}}}}}}},"/api/listings/filter":{"post":{"tags":["listing-controller"],"summary":"Фильтрация объявлений","operationId":"filterListings","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListingFilterDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageListingDto"}}}}}}},"/api/exchange":{"get":{"tags":["exchange-controller"],"summary":"Получить список обменов пользователя (с фильтром по статусу)","operationId":"getUserExchanges","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string","enum":["PENDING","APPROVED","REJECTED"]}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageExchangeDto"}}}}}},"post":{"tags":["exchange-controller"],"summary":"Предложить обмен","operationId":"proposeExchange","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeCreateDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ExchangeDto"}}}}}}},"/api/catalog":{"post":{"tags":["catalog-controller"],"summary":"Создать новую книгу","operationId":"addBook","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["data"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/CreateBookDto"},"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookDto"}}}}}}},"/api/catalog/wanted/{bookId}":{"post":{"tags":["catalog-controller"],"summary":"Добавить книгу в список \"хочу\"","operationId":"addWanted","parameters":[{"name":"bookId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}},"delete":{"tags":["catalog-controller"],"summary":"Удалить книгу из списка \"хочу\"","operationId":"removeWanted","parameters":[{"name":"bookId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/catalog/filter":{"post":{"tags":["catalog-controller"],"summary":"Поиск книг по параметрам","operationId":"filterBooks","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookFilterDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageBookDto"}}}}}}},"/api/auth/unban/{id}":{"post":{"tags":["auth-controller"],"summary":"Разбанить пользователя (MODERATOR/ADMIN)","operationId":"unbanUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/auth/register":{"post":{"tags":["auth-controller"],"summary":"Регистрация нового пользователя","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenPairDto"}}}}}}},"/api/auth/refresh":{"post":{"tags":["auth-controller"],"summary":"Обновление access/refresh токенов","operationId":"refresh","parameters":[{"name":"refreshToken","in":"cookie","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenPairDto"}}}}}}},"/api/auth/logout":{"post":{"tags":["auth-controller"],"summary":"Выход с одного устройства","operationId":"logout","parameters":[{"name":"refreshToken","in":"cookie","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/auth/logout-all":{"post":{"tags":["auth-controller"],"summary":"Выход со всех устройств","operationId":"logoutAll","responses":{"200":{"description":"OK"}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"summary":"Аутентификация пользователя","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenPairDto"}}}}}}},"/api/auth/ban/{id}":{"post":{"tags":["auth-controller"],"summary":"Забанить пользователя (MODERATOR/ADMIN)","operationId":"banUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/reviews/{id}/reject":{"patch":{"tags":["review-controller"],"summary":"Отклонить отзыв (модератор/админ)","operationId":"rejectReview","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/reviews/{id}/approve":{"patch":{"tags":["review-controller"],"summary":"Одобрить отзыв (модератор/админ)","operationId":"approveReview","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/reviews/complaint/{id}/reviewed":{"patch":{"tags":["review-controller"],"summary":"Пометить жалобу как рассмотренную (модератор/админ)","operationId":"markComplaintReviewed","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/listings/{id}":{"get":{"tags":["listing-controller"],"summary":"Получить объявление по ID","operationId":"getListing","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ListingDto"}}}}}},"delete":{"tags":["listing-controller"],"summary":"Удалить объявление","operationId":"deleteListing","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}},"patch":{"tags":["listing-controller"],"summary":"Обновить объявление","operationId":"updateListing","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateListingDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/listings/{id}/unblock":{"patch":{"tags":["listing-controller"],"summary":"Разблокировать объявление (модератор/админ)","operationId":"unblockListing","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/listings/{id}/close":{"patch":{"tags":["listing-controller"],"summary":"Закрыть объявление (владелец)","operationId":"closeListing","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/listings/{id}/block":{"patch":{"tags":["listing-controller"],"summary":"Заблокировать объявление (модератор/админ)","operationId":"blockListing","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/exchange/{id}/reject":{"patch":{"tags":["exchange-controller"],"summary":"Отклонить обмен","operationId":"rejectExchange","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/exchange/{id}/confirm":{"patch":{"tags":["exchange-controller"],"summary":"Подтвердить завершение обмена","operationId":"confirmExchangeCompletion","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/exchange/{id}/approve":{"patch":{"tags":["exchange-controller"],"summary":"Принять обмен","operationId":"approveExchange","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/catalog/{id}":{"get":{"tags":["catalog-controller"],"summary":"Получить книгу по ID","operationId":"getBook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookDto"}}}}}},"delete":{"tags":["catalog-controller"],"summary":"Удалить книгу по ID","operationId":"deleteBook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}},"patch":{"tags":["catalog-controller"],"summary":"Обновить книгу (частично)","operationId":"updateBook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBookDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/auth/role/{id}":{"patch":{"tags":["auth-controller"],"summary":"Изменить роль пользователя (ADMIN)","operationId":"changeRole","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangeRoleDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/auth/password":{"patch":{"tags":["auth-controller"],"summary":"Сменить пароль","operationId":"changePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/auth/me":{"get":{"tags":["auth-controller"],"summary":"Получить текущего пользователя","operationId":"me","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}},"patch":{"tags":["auth-controller"],"summary":"Обновить профиль текущего пользователя","operationId":"update","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/reviews/user/{userId}":{"get":{"tags":["review-controller"],"summary":"Получить список одобренных отзывов на пользователя","operationId":"getApprovedReviews","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReviewDto"}}}}}}}},"/api/reviews/user/{userId}/rating":{"get":{"tags":["review-controller"],"summary":"Получить средний рейтинг пользователя","operationId":"getAverageRating","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"number","format":"double"}}}}}}},"/api/reviews/listing/{listingId}":{"get":{"tags":["review-controller"],"summary":"Получить все отзывы по объявлению","operationId":"getReviewsByListing","parameters":[{"name":"listingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReviewDto"}}}}}}}},"/api/reviews/listing/{listingId}/complaints":{"get":{"tags":["review-controller"],"summary":"Получить все жалобы по объявлению","operationId":"getComplaintsByListing","parameters":[{"name":"listingId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ComplaintDto"}}}}}}}},"/api/messages/dialogs":{"get":{"tags":["messaging-controller"],"summary":"Получить список диалогов текущего пользователя","operationId":"getUserDialogs","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DialogDto"}}}}}}}},"/api/messages/dialogs/{id}":{"get":{"tags":["messaging-controller"],"summary":"Получить подробности конкретного диалога","operationId":"getDialogDetails","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DialogDto"}}}}}}},"/api/messages/dialogs/{id}/messages":{"get":{"tags":["messaging-controller"],"summary":"Получить сообщения в диалоге","operationId":"getMessages","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageDto"}}}}}}}},"/api/listings/cities/search":{"get":{"tags":["listing-controller"],"summary":"Поиск городов по префиксу имени и/или региона","operationId":"searchCities","parameters":[{"name":"name","in":"query","required":false,"schema":{"type":"string"}},{"name":"region","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CityDto"}}}}}}}},"/api/catalog/wanted/{userId}":{"get":{"tags":["catalog-controller"],"summary":"Получить список книг из \"хочу\" пользователя по ID","operationId":"getUserWanted","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookDto"}}}}}}}},"/api/catalog/wanted/count/{bookId}":{"get":{"tags":["catalog-controller"],"summary":"Получить количество пользователей, добавивших книгу в \"хочу\"","operationId":"getWantedCount","parameters":[{"name":"bookId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/catalog/genres":{"get":{"tags":["catalog-controller"],"summary":"Получить список всех жанров","operationId":"getGenres","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GenreDto"}}}}}}}},"/api/auth/users":{"get":{"tags":["auth-controller"],"summary":"Получить список всех пользователей","operationId":"getAll","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDto"}}}}}}}},"/api/auth/users/{id}":{"get":{"tags":["auth-controller"],"summary":"Получить пользователя по ID","operationId":"getById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/auth/sessions":{"get":{"tags":["auth-controller"],"summary":"Получить все активные сессии текущего пользователя","operationId":"getSessions","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SessionDto"}}}}}}}},"/api/catalog/images/{imageId}":{"delete":{"tags":["catalog-controller"],"summary":"Удалить изображение книги (обложку)","operationId":"deleteImage","parameters":[{"name":"imageId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"CreateReviewDto":{"type":"object","properties":{"listingId":{"type":"integer","format":"int64"},"rating":{"type":"integer","format":"int32"},"comment":{"type":"string"}}},"CreateComplaintDto":{"type":"object","properties":{"listingId":{"type":"integer","format":"int64"},"comment":{"type":"string"}}},"CreateListingDto":{"type":"object","properties":{"bookId":{"type":"integer","format":"int64"},"condition":{"type":"string","enum":["NEW","LIKE_NEW","GOOD","FAIR","POOR"]},"cityId":{"type":"integer","format":"int64"}}},"ListingDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"bookId":{"type":"integer","format":"int64"},"bookTitle":{"type":"string"},"bookAuthor":{"type":"string"},"condition":{"type":"string","enum":["NEW","LIKE_NEW","GOOD","FAIR","POOR"]},"cityId":{"type":"integer","format":"int64"},"cityName":{"type":"string"},"imageUrls":{"type":"array","items":{"type":"string"}},"isOpen":{"type":"boolean"},"isBlocked":{"type":"boolean"},"ownerId":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"}}},"ListingFilterDto":{"type":"object","properties":{"title":{"type":"string"},"author":{"type":"string"},"ageCategories":{"type":"array","items":{"type":"string","enum":["UNIVERSAL","CHILDREN","TEEN","ADULT"]}},"genreIds":{"type":"array","items":{"type":"integer","format":"int64"}},"cityId":{"type":"integer","format":"int64"},"condition":{"type":"string","enum":["NEW","LIKE_NEW","GOOD","FAIR","POOR"]}}},"PageListingDto":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ListingDto"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"paged":{"type":"boolean"},"pageSize":{"type":"integer","format":"int32"},"pageNumber":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"ExchangeCreateDto":{"type":"object","properties":{"offeredListingId":{"type":"integer","format":"int64"},"selectedListingId":{"type":"integer","format":"int64"}}},"ExchangeDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"senderId":{"type":"integer","format":"int64"},"receiverId":{"type":"integer","format":"int64"},"offeredListingId":{"type":"integer","format":"int64"},"selectedListingId":{"type":"integer","format":"int64"},"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED"]},"senderConfirmedCompletion":{"type":"boolean"},"receiverConfirmedCompletion":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"completedAt":{"type":"string","format":"date-time"}}},"CreateBookDto":{"type":"object","properties":{"title":{"type":"string"},"author":{"type":"string"},"year":{"type":"integer","format":"int32"},"description":{"type":"string"},"genreIds":{"type":"array","items":{"type":"integer","format":"int64"}},"ageCategory":{"type":"string","enum":["UNIVERSAL","CHILDREN","TEEN","ADULT"]}}},"BookDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"author":{"type":"string"},"year":{"type":"integer","format":"int32"},"description":{"type":"string"},"genres":{"type":"array","items":{"type":"string"}},"ageCategory":{"type":"string","enum":["UNIVERSAL","CHILDREN","TEEN","ADULT"]},"imageUrl":{"type":"string"},"moderationStatus":{"type":"string","enum":["PENDING","APPROVED","REJECTED"]},"createdById":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"}}},"BookFilterDto":{"type":"object","properties":{"title":{"type":"string"},"author":{"type":"string"},"ageCategories":{"type":"array","items":{"type":"string","enum":["UNIVERSAL","CHILDREN","TEEN","ADULT"]}},"genreIds":{"type":"array","items":{"type":"integer","format":"int64"}}}},"PageBookDto":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/BookDto"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"RegisterDto":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"cityId":{"type":"integer","format":"int64"}}},"TokenPairDto":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"accessExpires":{"type":"string","format":"date-time"},"refreshExpires":{"type":"string","format":"date-time"}}},"LoginDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"UpdateListingDto":{"type":"object","properties":{"condition":{"type":"string","enum":["NEW","LIKE_NEW","GOOD","FAIR","POOR"]},"cityId":{"type":"integer","format":"int64"}}},"UpdateBookDto":{"type":"object","properties":{"title":{"type":"string"},"author":{"type":"string"},"year":{"type":"integer","format":"int32"},"description":{"type":"string"},"genreIds":{"type":"array","items":{"type":"integer","format":"int64"}},"ageCategory":{"type":"string","enum":["UNIVERSAL","CHILDREN","TEEN","ADULT"]}}},"ChangeRoleDto":{"type":"object","properties":{"role":{"type":"string"}}},"ChangePasswordDto":{"type":"object","properties":{"oldPassword":{"type":"string"},"newPassword":{"type":"string"}}},"UpdateUserDto":{"type":"object","properties":{"name":{"type":"string"},"avatarUrl":{"type":"string"},"cityId":{"type":"integer","format":"int64"}}},"ReviewDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"listingId":{"type":"integer","format":"int64"},"fromUserId":{"type":"integer","format":"int64"},"toUserId":{"type":"integer","format":"int64"},"rating":{"type":"integer","format":"int32"},"comment":{"type":"string"},"moderationStatus":{"type":"string","enum":["PENDING","APPROVED","REJECTED"]},"imageUrls":{"type":"array","items":{"type":"string"}},"createdAt":{"type":"string","format":"date-time"}}},"ComplaintDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"listingId":{"type":"integer","format":"int64"},"fromUserId":{"type":"integer","format":"int64"},"toUserId":{"type":"integer","format":"int64"},"comment":{"type":"string"},"isReviewed":{"type":"boolean"},"imageUrls":{"type":"array","items":{"type":"string"}},"createdAt":{"type":"string","format":"date-time"}}},"DialogDto":{"type":"object","properties":{"dialogId":{"type":"integer","format":"int64"},"listingId":{"type":"integer","format":"int64"},"bookTitle":{"type":"string"},"bookAuthor":{"type":"string"},"bookImageUrl":{"type":"string"},"bookCondition":{"type":"string"},"listingOwnerId":{"type":"integer","format":"int64"},"listingOwnerName":{"type":"string"},"listingOwnerAvatar":{"type":"string"},"lastMessageContent":{"type":"string"},"lastMessageAuthor":{"type":"string"},"lastMessageTime":{"type":"string","format":"date-time"}}},"MessageDto":{"type":"object","properties":{"messageId":{"type":"integer","format":"int64"},"authorId":{"type":"integer","format":"int64"},"authorName":{"type":"string"},"content":{"type":"string"},"imageUrls":{"type":"array","items":{"type":"string"}},"exchange":{"$ref":"#/components/schemas/ExchangeDto"},"isExchangeProposal":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"}}},"CityDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"region":{"type":"string"},"country":{"type":"string"}}},"PageExchangeDto":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ExchangeDto"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"GenreDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}}},"UserDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"email":{"type":"string"},"avatarUrl":{"type":"string"},"role":{"type":"string"},"isBanned":{"type":"boolean"},"cityId":{"type":"integer","format":"int64"}}},"SessionDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"refreshToken":{"type":"string"},"createdAt":{"type":"string"},"expiresAt":{"type":"string"}}}},"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}